<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>R Básico</title>
    <meta charset="utf-8" />
    <meta name="author" content="Larissa Sayuri Futino Castro dos Santos" />
    <meta name="date" content="2020-07-06" />
    <link href="libs/remark-css/rladies.css" rel="stylesheet" />
    <link href="libs/remark-css/rladies-fonts.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/style.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# R Básico
## ⚔<br/>com xaringan
### Larissa Sayuri Futino Castro dos Santos
### Rladies Gyn
### 2020-07-06

---





---
# Larissa Sayuri Futino Castro dos Santos

- Filha da Matico e do Gilberto. 

- Brasiliense, com muito orgulho. 

- Escolhi trabalhar com dados e só recentemente entrei no mundo da tecnologia.

- Bacharel (UnB), Mestre (UFMG) e Doutora (UFMG) em Estatística 

- Cientista de Dados na Sympla 

- A minha grande paixão é desmistificar IA, 
me encantando no meio do processo.

- Amo papelaria, sempre.

- Amo cozinhar, no inverno.

- Amo ler, no verão

- Empoderada por mulheres para estar aqui

- [https://www.linkedin.com/in/larissa-sayuri-santos/](https://www.linkedin.com/in/larissa-sayuri-santos/)

---

# Projeto Animal

1. Associação de voluntários particular

1. Priorizar casos mais urgentes

1. Preservar as condições mínimas de sobrevivência dos animais já abrigados 

1. Se vc pôde doar: obrigada!

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="imagens/projetoAnimal_gatos.jpeg" alt="&amp;lt;center&amp;gt;&amp;lt;b&amp;gt;Logo: &amp;lt;a href='https://projetoanimal.com.br/'&amp;gt;https://projetoanimal.com.br/&amp;lt;/a&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;/center&amp;gt;" width="60%" /&gt;
&lt;p class="caption"&gt;&lt;center&gt;&lt;b&gt;Logo: &lt;a href='https://projetoanimal.com.br/'&gt;https://projetoanimal.com.br/&lt;/a&gt;&lt;/b&gt;&lt;/center&gt;&lt;/p&gt;
&lt;/div&gt;


---

class: middle

# Pré-requisitos

### Rstudio cloud
- Acesse: https://rstudio.cloud/

### R
- Disponível em: https://cran.r-project.org/

### RStudio
- Disponível em: https://www.rstudio.com/products/rstudio/download/


---

background-image: url("imagens/agenda_branco.png")
background-position: 40% 40%
class: center, bottom, inverse

---

# Aproveite

Começar a programar é desafiador.

Serão apresentados muitos conceitos, pacotes e funções.

Não ache que a gente sabe tudo/Não caia na cilada do _infoxication_!

A ideia é te dar um panorama de tudo o que você pode fazer.

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="https://media.giphy.com/media/oy83DwqHRcR1jJczV3/giphy.gif" alt="&amp;lt;center&amp;gt;&amp;lt;b&amp;gt;Divirta-se! Ou tente!&amp;lt;/b&amp;gt;&amp;lt;/center&amp;gt;" width="35%" /&gt;
&lt;p class="caption"&gt;&lt;center&gt;&lt;b&gt;Divirta-se! Ou tente!&lt;/b&gt;&lt;/center&gt;&lt;/p&gt;
&lt;/div&gt;

---

class: center, middle

.pull-left[

## Ciência de Dados

"Área **interdisciplinar** para análise de dados que visa transformar dados em:

1. conhecimento, 

1. insights, 

1. tomadas de decisão*"

## Profissional de Dados

Capazes de:

1. utilizar as ferramentas de manipulação de dados e

1. que forneçam o apoio necessário nas tomadas de decisão

]

.pull-right[

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="imagens/2020_internetInAMinute.jpg" alt="&amp;lt;center&amp;gt;&amp;lt;b&amp;gt;Fonte: &amp;lt;a href='https://images.app.goo.gl/Lrghc9B3XPEAQ3iZ7'&amp;gt;LoriLewis&amp;lt;/a&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;/center&amp;gt;" width="75%" /&gt;
&lt;p class="caption"&gt;&lt;center&gt;&lt;b&gt;Fonte: &lt;a href='https://images.app.goo.gl/Lrghc9B3XPEAQ3iZ7'&gt;LoriLewis&lt;/a&gt;&lt;/b&gt;&lt;/center&gt;&lt;/p&gt;
&lt;/div&gt;

]
---

# Computação Estatística

“O R é uma linguagem pensada para ser utilizada por Estatísticos, especialmente em tarefas de computação estatística. É conhecido como a _lingua franca for Statistics_”.

.pull-left[

“O R é ótimo para:

1. Aprendizado de Máquina, 

2. Visualização de Dados e 

3. Análise de Dados 

além de algumas áreas de Computação Científica”

[https://data-flair.training/blogs/why-learn-r/](https://data-flair.training/blogs/why-learn-r/)

]

.pull-right[
&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="https://media.giphy.com/media/26FPC5oAdfeFPkQQE/giphy.gif" alt="&amp;lt;center&amp;gt;&amp;lt;b&amp;gt;R, seu lindu!&amp;lt;/b&amp;gt;&amp;lt;/center&amp;gt;" width="100%" /&gt;
&lt;p class="caption"&gt;&lt;center&gt;&lt;b&gt;R, seu lindu!&lt;/b&gt;&lt;/center&gt;&lt;/p&gt;
&lt;/div&gt;
]

---

class: middle

# Vantagens

.pull-left[

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="https://media.giphy.com/media/1fgLkB8QIZO5KdQLL8/giphy.gif" alt="&amp;lt;center&amp;gt;&amp;lt;b&amp;gt;Contribua!&amp;lt;/b&amp;gt;&amp;lt;/center&amp;gt;" width="100%" /&gt;
&lt;p class="caption"&gt;&lt;center&gt;&lt;b&gt;Contribua!&lt;/b&gt;&lt;/center&gt;&lt;/p&gt;
&lt;/div&gt;

]

.pull-right[

## _Free &amp; open source_

1. Não há limitantes de custo. 

1. Não há restrições para o seu uso.

1. Como é aberto para a comunidade contribuir, torna-se uma ferramenta plural.

1. Ferramenta que pode ser atualizada a tempo contínuo de modo a contemplar técnicas, algoritmos mais modernos.

]

---

# Grande Comunidade

“Usualmente, o R tem sido usado na Academia. 
Mas com o surgimento e crescimento da Ciência de Dados, o R tem sido utilizado em indústrias, inclusive a indústria 4.0”
[https://data-flair.training/blogs/why-learn-r/](https://data-flair.training/blogs/why-learn-r/)

“Quanto maior a comunidade de uma linguagem de programação, maior o suporte que vc provavelmente terá”
[http://www.bestprogramminglanguagefor.me/why-learn-r](http://www.bestprogramminglanguagefor.me/why-learn-r)


&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="imagens/trab_colab.png" alt="&amp;lt;center&amp;gt;&amp;lt;b&amp;gt;Contribua!&amp;lt;/b&amp;gt;&amp;lt;/center&amp;gt;" width="35%" /&gt;
&lt;p class="caption"&gt;&lt;center&gt;&lt;b&gt;Contribua!&lt;/b&gt;&lt;/center&gt;&lt;/p&gt;
&lt;/div&gt;
---

# Indústrias variadas

.pull-left[
É utilizada no:

1. mercado financeiro,

1. indústria farmacêutica, 

1. dados genéticos, 

1. pesquisas epidemiológicas, 

1. avaliação de políticas públicas, 

1. controle de qualidade de processos industriais, 

1. avaliações educacionais, 

1. dentre outras áreas.

]

.pull-right[


O uso do R é uma habilidade com potencial de retorno em uma **carreira crescente e bem remunerada**.

&lt;img src="imagens/industrias.png" width="75%" style="display: block; margin: auto;" /&gt;

]

---

# Indústrias variadas

&lt;img src="imagens/empresas-usa-r.png" width="75%" style="display: block; margin: auto;" /&gt;

---

# Integração

O R pode ser integrado com demais linguagens e ferramentas para análise dados, o que confere **flexibilidade** para o seu emprego em **diferentes contextos e necessidades**.

&lt;img src="imagens/r-integracao.png" width="75%" style="display: block; margin: auto;" /&gt;

---

# Robusta Visualização de Dados

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="imagens/polio-dataviz.png" alt="&amp;lt;center&amp;gt;&amp;lt;b&amp;gt;Poliomelite por estados americanos e tempo.&amp;lt;/b&amp;gt;&amp;lt;/center&amp;gt;" width="95%" /&gt;
&lt;p class="caption"&gt;&lt;center&gt;&lt;b&gt;Poliomelite por estados americanos e tempo.&lt;/b&gt;&lt;/center&gt;&lt;/p&gt;
&lt;/div&gt;

---

# Vantagens

1. _Cross-platform_
- “É compatível em diferentes Sistemas Operacionais”

2. Permite computação distribuída
- “É possível dividir a tarefa em múltiplos nós de processamento, reduzindo tempo de execução e permitindo a análise de grandes bases de Dados”

3. Vetorizado
- R é uma linguagem vetorial. Isso torna o processo de inspeção e investigação de dados mais rápido com o R.

4. Relatórios Dinâmicos e web-apps
- “É possível fazer dashboards iterativas, o que permite que usuários/pesquisadores explorem melhor gráficos e tabelas e aprimorar o storytelling da sua análise de dados.”

---
# Desvantagens

1. “A qualidade de alguns pacotes está muito aquém do perfeito”
- “Não há suporte ao cliente. Ou seja, o uso do R e seus pacotes é da sua responsabilidade”
[https://data-flair.training/blogs/why-learn-r/](https://data-flair.training/blogs/why-learn-r/)

2. “O R foi concebido para usar a memória RAM do computador.”
[http://www.bestprogramminglanguagefor.me/why-learn-r](http://www.bestprogramminglanguagefor.me/why-learn-r)

3 . “R é lento”
[http://www.bestprogramminglanguagefor.me/why-learn-r](http://www.bestprogramminglanguagefor.me/why-learn-r)

---

# Processo de Análise de Dados

&lt;img src="imagens/processoAnaliseDados.png" width="95%" style="display: block; margin: auto;" /&gt;

---

# Processo de Análise de Dados

&lt;img src="imagens/hexagons.png" width="95%" style="display: block; margin: auto;" /&gt;

Fonte: [https://github.com/rstudio/hex-stickers](https://github.com/rstudio/hex-stickers)

---

# Linguagem de Programação

“Conjunto de instruções que produz diferentes tipos de output.
A maioria das linguagens de programação consiste em instruções para computadores”
[https://en.wikipedia.org/wiki/Programming_language](https://en.wikipedia.org/wiki/Programming_language)

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="https://media.giphy.com/media/3ohhwJbytwUSJyvvHi/giphy.gif" alt="&amp;lt;b&amp;gt;Admirável mundo novo&amp;lt;/b&amp;gt;" width="50%" /&gt;
&lt;p class="caption"&gt;&lt;b&gt;Admirável mundo novo&lt;/b&gt;&lt;/p&gt;
&lt;/div&gt;

---

&lt;img src="https://media.giphy.com/media/xT9DPLHGWqex2nWWis/giphy.gif" width="35%" style="display: block; margin: auto;" /&gt;

Linguagem de programação que consiste em **instruções para computadores** relacionadas a ANÁLISE DE DADOS, produzindo outputs como: medidas (média, quantis, desvio, etc), gráficos, tabelas, mapas, diagramas, modelos explorando a relação entre variáveis.

---

## RStudio

O RStudio é uma interface para programar em R. 
É o melhor ambiente para desenvolver um código em R.

* Interface para objetos em memória, script, gráficos e tabelas
* Highlight do código
* Autocomplete
* Match de parênteses e chaves
* Ajuda a identar o código (não é obrigatório, só recomendável) 
* Criação de projetos (um diretório de trabalho o que exime o usuário de especificar o diretório independente de onde ele ‘rodar’ o script)
* Integrar com ambientes de controle de versão, como Github ou Gitlab

---

## RStudio

&lt;img src="imagens/tela_rstudio.png" width="95%" style="display: block; margin: auto;" /&gt;

---

# O R como calculadora

1. Os comandos são digitados no **prompt &gt;**
2. Para submeter os comandos pressione Enter
3. Para inserir vários comandos na mesma linha utilize **;**


```r
2 + 2 # Soma
```

```
## [1] 4
```

```r
2 - 2 # Subtracao
```

```
## [1] 0
```

```r
2 * 2 # Multiplicacao
```

```
## [1] 4
```

```r
2 / 2 # Divisao
```

```
## [1] 1
```

---

# O R como calculadora

O R ignora os espaços em brancos excessivos


```r
2                      + 2 # Soma com espaco enorme
```

```
## [1] 4
```

String/caracteres devem ser inseridos entre aspas simples ( ’ ’ ) ou dupla ( “” )


```r
"R ladies" 
```

```
## [1] "R ladies"
```

```r
'Gyn'
```

```
## [1] "Gyn"
```

Continuação da linha é indicado por +. Quebra de linha é representada por \n


```r
"Curso Basico R ladies Gyn
em 04 de Julho de 2020"
```

```
## [1] "Curso Basico R ladies Gyn\nem 04 de Julho de 2020"
```

Use parênteses para calcular expressões


```r
((2 + 3) * 2)^2
```

```
## [1] 100
```

---

# Operadores Aritméticos


```r
2 + 2 # Soma
2 - 2 # Subtracao
2 * 2 # Multiplicacao
2 / 2 # Divisao
2 ^ 2 # Exponenciação
```


```r
10 %% 3 # Resto da Divisao
```

```
## [1] 1
```

```r
10 %/% 3# Parte inteira da Divisão
```

```
## [1] 3
```

Fonte: [https://www.datamentor.io/r-programming/operator/](https://www.datamentor.io/r-programming/operator/)

---
# Operadores Relacionais


```r
10 &gt; 3; 10 &gt;= 3 # Maior que # Maior ou igual que
```

```
## [1] TRUE
```

```
## [1] TRUE
```

```r
10 &lt; 3; 10 &lt;= 3 # Menor que # Menor que ou igual que
```

```
## [1] FALSE
```

```
## [1] FALSE
```

```r
(2+2) == 4 # Igual
```

```
## [1] TRUE
```

```r
(2+2) != 4 # Diferente
```

```
## [1] FALSE
```

```r
(2+3) != 4 # Diferente
```

```
## [1] TRUE
```
Fonte: [https://www.datamentor.io/r-programming/operator/](https://www.datamentor.io/r-programming/operator/)

---

# Objetos no R 

### “tudo o que existe no R é um objeto”

Para “fazermos cálculos e análises” é interessante guardar quantidades no computador.
E, claro, ser capaz de acessar essas quantidades. 

.pull-left[
Acessar para mim:

1. colocar em uma gavetinha de memória do computador, (objeto)

1. com uma etiqueta (um nome para a quantidade guardada)

]

.pull-right[

&lt;img src="imagens/gavetas_memoria.png" width="50%" style="display: block; margin: auto;" /&gt;
]

---

# Objetos no R e Operadores de Atribuição

Para **atribuir** valores a objetos, basta usar o operador **&lt;-** (combinação do  &lt; com −):


```r
nome_evento &lt;- "r ladies gyn" # Atribuição à esquerda
```

Como alternativa, podemos utilizar o operador **=**:

```r
pessoas_evento = 300 # Atribuição à direita
```

### Obs.:

1. Também é possível usar o operador de atribuição à direita (**-&gt;&gt;**). 

1. Quando a intenção é a atribuição (a nível global) dentro de uma função: usar **&lt;&lt;-** ou **-&gt;&gt;**.

---

# Acessando objetos no R

Para visualizar o valor armazenado em um objeto:

1. basta digitar o nome do objeto no prompt então apertar Enter ou  


```r
nome_evento
```

```
## [1] "r ladies gyn"
```

```r
pessoas_evento
```

```
## [1] 300
```

1. usar a função print() ou
1. entre parênteses (objeto1)

```r
print(nome_evento)
```

```
## [1] "r ladies gyn"
```

```r
(pessoas_evento)
```

```
## [1] 300
```

---

# Objetos no R

Note também que o R é _case sensitive_:


```r
(tudo_minusculo &lt;- "rladies gyn em minusculo")
```

```
## [1] "rladies gyn em minusculo"
```

```r
(tudo_maiusculo &lt;- "RLADIES GYN EM MAIUSCULO")
```

```
## [1] "RLADIES GYN EM MAIUSCULO"
```

Objetos no R podem ser nomeadas usando:

* letras, 
* números, 
* ponto (.) e 
* underline (_), 

---

# Objetos no R

Porém, há algumas regras básicas para criar os nomes de objetos:

- Começar com letra ou ponto (não com números ou símbolos).

- Pode-se usar o símbolo _ (underline)


```r
var_name &lt;- 30
.var_name &lt;- 30
```

- Se iniciar com um ponto, não pode ser seguido de um número. 


```r
.1var_name &lt;- 30
```

---

# Objetos no R

- Nomes de objetos não:

- podem conter espaços.


```r
var name &lt;- 30
```

- podem conter caracter especial.


```r
var&amp;name &lt;- 30
```

- podem usar palavras reservadas da linguagem (for, if e while).


```r
for &lt;- 30; if &lt;- 30; while &lt;- 30
```

- O nome do objeto pode ser tão longo quanto você queira. 

- Existem boas práticas para ter um código legível e conciso.

---

# Objetos no R

Algumas quantidades que vem no R:


```r
(letters)
```

```
##  [1] "a" "b" "c" "d" "e" "f" "g" "h" "i" "j" "k" "l" "m" "n" "o" "p" "q" "r" "s"
## [20] "t" "u" "v" "w" "x" "y" "z"
```

```r
(LETTERS)
```

```
##  [1] "A" "B" "C" "D" "E" "F" "G" "H" "I" "J" "K" "L" "M" "N" "O" "P" "Q" "R" "S"
## [20] "T" "U" "V" "W" "X" "Y" "Z"
```


```r
(month.name)
```

```
##  [1] "January"   "February"  "March"     "April"     "May"       "June"     
##  [7] "July"      "August"    "September" "October"   "November"  "December"
```


```r
(month.abb)
```

```
##  [1] "Jan" "Feb" "Mar" "Apr" "May" "Jun" "Jul" "Aug" "Sep" "Oct" "Nov" "Dec"
```


```r
(pi)
```

```
## [1] 3.141593
```

---

# Mãos à Massa 01 (Objetos)

Considere que na Investigação do assassinato algumas possíveis testemunhas serão interrogadas. 

São 12 pessoas para escutar e cada depoimento demora, em média, 1h30. 
Um único delegado e escrivão devem colher todos os depoimentos e ambos trabalham 6 horas por dia.
Quanto tempo vai demorar para escutar todas as testemunhas?

Crie objetos para guardar as quantidades mais importantes nesse problema. Quantos objetos são? Quais são?

Calcule o tempo necessário para interrogar todas as testemunhas

A) em horas 

B) em minutos

C) em dias de trabalho da dupla delegado/escrivão

---

# Mãos à Massa


```r
testem &lt;- 12 # atrib a esquerda
1.5 -&gt; tempo_inter # atrib a direita
tempo_trab_deleg &lt;- 6

tempo_inter_tds_testem_horas &lt;- testem * tempo_inter

tempo_inter_tds_testem_min &lt;- tempo_inter_tds_testem_horas * 60

dias_trab_deleg &lt;- tempo_inter_tds_testem_horas/tempo_trab_deleg
```

---

# Classes de Objetos/Tipo de Variáveis

.pull-left[
Em uma análise estatística existem diferentes tipos de dados: 

- numéricos, 

- categóricos, 

- ordinais, 

- univariados, 

- multivariados, 

- temporais,

- espaciais,

- Etc.

]

.pull-right[

O R possui diferentes classes para acomodar estas diferentes natureza de dados.


Para saber a classe de um objeto devemos utilizar a **função class()**.


```r
?class()
```

]

---

.pull-left[
## Classe numeric

Se aplica a variáveis como renda, altura, contagem de infectados, etc.


```r
?numeric()
```


```r
x &lt;- 2.5
class(x)
```

```
## [1] "numeric"
```


```r
y &lt;- 10
class(y)
```

```
## [1] "numeric"
```
]

.pull-right[
## Classe integer

Se aplica a quantidades do tipo números inteiros (variável como contagem de infectados, etc.)


```r
?integer()
```


```r
w &lt;- 35L
class(w)
```

```
## [1] "integer"
```
]

---

.pull-left[
## Classe logical

Se aplica a variáveis que podem assumir dois possíveis valores: TRUE ou FALSE


```r
?logical()
```


```r
logico &lt;- 1 &lt; 2
class(logico)
```

```
## [1] "logical"
```
]

.pull-right[
## Classe character

Para variáveis que representam Texto.


```r
?character()
```


```r
nosso_char &lt;- "rladies Gyn"
class(nosso_char)
```

```
## [1] "character"
```
]

---

# Convertendo para Classes de Objetos/Tipo de Variáveis

As funções is.CLASSE (is.numeric, is.integer, is.character) testam se o objeto é da classe CLASSE. 
Neste caso, o retorno desta função um objeto da classe logical().


```r
nosso_char
```

```
## [1] "rladies Gyn"
```

```r
is.character(nosso_char)
```

```
## [1] TRUE
```

```r
is.numeric(nosso_char)
```

```
## [1] FALSE
```

```r
is.numeric(logico)
```

```
## [1] FALSE
```

---

# Convertendo para Classes de Objetos/Tipo de Variáveis

Já as funções do tipo as.CLASSE (as.integer, as.numeric, etc) são utilizadas para atribuir uma classe ao objeto.
Ou seja, elas tentam converter um objeto a ser da classe CLASSE.

.pull-left[

```r
w
```

```
## [1] 35
```

```r
is.character(w)
```

```
## [1] FALSE
```

```r
as.character(w)
```

```
## [1] "35"
```
]

.pull-right[

```r
as.integer(pi)
```

```
## [1] 3
```

```r
is.integer(logico)
```

```
## [1] FALSE
```
]

---

# Mais Operadores Lógicos


```r
u &lt;- 2 &lt; 3 # TRUE
v &lt;- 2 &gt; 3 # FALSE
```


```r
u &amp; v # E
```

```
## [1] FALSE
```


```r
u | v # OU
```

```
## [1] TRUE
```


```r
! v # Negando
```

```
## [1] TRUE
```

---

# Mais Operadores Lógicos

.pull-left[

```r
u &lt;- 2 &lt; 3 # TRUE
v &lt;- 5 &gt; 3 # TRUE
```


```r
u &amp; v # E
```

```
## [1] TRUE
```


```r
u | v # OU
```

```
## [1] TRUE
```


```r
! v # Negando
```

```
## [1] FALSE
```
]

.pull-right[

```r
u &lt;- 2 &lt; 1 # FALSE
v &lt;- 5 &lt; 3 # FALSE
```


```r
u &amp; v # E
```

```
## [1] FALSE
```


```r
u | v # OU
```

```
## [1] FALSE
```


```r
! v # Negando
```

```
## [1] TRUE
```
]

---

# Classe character

No R existe uma infinidade de funções para manipular strings/caracteres, além de conseguir interpretar as famosas expressões regulares

- paste(): concatena/junta strings.


```r
paste("Rladies", "Gyn")
```

```
## [1] "Rladies Gyn"
```


```r
paste("Rladies", "Gyn", sep = "_")
```

```
## [1] "Rladies_Gyn"
```


```r
paste0("Rladies", "Gyn")
```

```
## [1] "RladiesGyn"
```

---

# Classe character

- grep(): números inteiros. Ex.: 5L.


```r
grep(pattern = "Rladies", x = "Rladies Gyn")
```

```
## [1] 1
```

---

# Classe character

- gsub(): TRUE ou FALSE.


```r
gsub(pattern = "Rladies", replacement = "We love", x = "Rladies Gyn")
```

```
## [1] "We love Gyn"
```

- substr(): caracteres/strings


```r
substr(x = "04/07/2020", start = 1, stop = 2)
```

```
## [1] "04"
```

```r
substr(x = "04/07/2020", start = nchar("04/07/2020") - 4, stop = nchar("04/07/2020"))
```

```
## [1] "/2020"
```

---

# Mãos à Massa

Na Investigação do assassinato o nome de uma das testemunhas ficou como “L444rissa”. 

Atribua “L4rissa” a um objeto no R e responda:

Qual a classe desse objeto?

Utilize a função substr() para obter o número que está no objeto  e atribua este valor em um outro objeto. Ex.: numero &lt;- substr(???).

Qual a classe do objeto numero? Transforme-o para a classe adequada.

---

class: center, middle, inverse

Até este momento estamos apenas trabalhando com objetos ESCALARES, ou seja, com um único valor. 

De agora em diante são apresentadas estruturas de armazenamento de dados em R.

---

# Estruturas de Dados 

## de uma classe, apenas

&lt;img src="imagens/Esquema_Escalar_Vetor_matriz_Array.png" width="90%" style="display: block; margin: auto;" /&gt;

---

# Estruturas de Dados 

## mais de uma classe

&lt;img src="imagens/Esquema_lista_dataFrame.png" width="90%" style="display: block; margin: auto;" /&gt;

---

background-image: url("imagens/vetor.png")
background-position: 40% 40%
class: center, bottom, inverse

---

# Vetores

- Um vetor é uma **sequência de dados do mesmo tipo ou classe. ** Ou seja, um vetor só pode conter valores numéricos, ou lógicos, ou de caracteres.

- Por isso, é uma estrutura de dados chamada de homogênea

- Faça:


```r
?c()
```

- Qual a classe dos objetos abaixo ?


```r
(vet1 &lt;- c(3, pi, 9, 1000L))
```

```
## [1]    3.000000    3.141593    9.000000 1000.000000
```

```r
(vet2 &lt;- c("3", pi, 9, 1000L))
```

```
## [1] "3"                "3.14159265358979" "9"                "1000"
```

- O que podemos concluir ?

--

- Para fazer o vetor o R fez uma conversão de classe para a classe mais primitiva.

---

## Inspecionando um vetor

#### length()
Pode ser útil observar o TAMANHO dele:


```r
length(vet1)
```

```
## [1] 4
```

#### names()
Pode ser útil observar o NOMEAR as entradas de um vetor:


```r
(num_partic &lt;- c(100, 101, 102, 103))
```

```
## [1] 100 101 102 103
```

```r
names(num_partic) &lt;- c("Goiânia", "Niterói", "Lavras", "Natal")
(num_partic)
```

```
## Goiânia Niterói  Lavras   Natal 
##     100     101     102     103
```

---
# Criando vetores com um padrão desejado

.pull-left[
Quando você precisar fazer um vetor extenso (muitas posições) da classe **numeric** você pode recorrer a duas funções muito flexíveis: **seq** e **rep**.

Faça:


```r
?seq
```

E:


```r
?rep
```

]

.pull-right[

```r
seq(from = 2, to = 20, by = 2) # crescente
```

```
##  [1]  2  4  6  8 10 12 14 16 18 20
```

```r
seq(from = 20, to = 6, by = -2) # decrescente
```

```
## [1] 20 18 16 14 12 10  8  6
```

```r
1:3
```

```
## [1] 1 2 3
```

```r
rep(x = 1:3, times = 3)
```

```
## [1] 1 2 3 1 2 3 1 2 3
```

```r
rep(x = 1:3, each = 3)
```

```
## [1] 1 1 1 2 2 2 3 3 3
```
]

---
Podemos combinar/concatenar/juntar vetores usando a mesma função **c()**:


```r
vet_seq &lt;- seq(from = 2, to = 20, by = 2)
vet_ope &lt;- 1:3
vet_rep &lt;- rep(x = 7:9, each = 3)

vet_juntos &lt;- c(vet_seq, vet_ope, vet_rep)
```

Quantos elementos estão em **vet_juntos**?

---

# Criando um vetor de números aleatórios

Criando um vetor de números aleatórios.

```r
vet_num &lt;- sample(size = 1000, x = 1:1000, replace = FALSE)
```

Criando um vetor aleatório de números reais amostrado de uma N(2,1).

```r
vet_norm &lt;- rnorm(n = 1000, mean = 2, sd = 1)
```

Como estamos na _lingua franca_ para Estatística funções para lidar com densidades de probabilidade. Quer saber quais outras densidades estão disponíveis?

Digite:

```r
?rnorm
```

E procure por **Details**.

---

### Funções aplicadas a Vetores


```r
(vet_num &lt;- sample(size = 15, x = seq(15), replace = FALSE))
```

```
##  [1]  8 11 15  7  4 12 13  6  5 14  2 10  1  9  3
```

.pull-left[

```r
mean(vet_num) # media
```

```
## [1] 8
```


```r
median(vet_num) # mediana
```

```
## [1] 8
```


```r
min(vet_num) # minimo
```

```
## [1] 1
```


```r
max(vet_num) # maximo
```

```
## [1] 15
```

]

.pull-right[

```r
sd(vet_num) # desvio
```

```
## [1] 4.472136
```


```r
var(vet_num) # variancia
```

```
## [1] 20
```


```r
range(vet_num) # amplitude
```

```
## [1]  1 15
```


```r
sum(vet_num) # soma
```

```
## [1] 120
```

]
---

### Funções aplicadas a Vetores


```r
vet_num1 &lt;- 1:1000
vet_num2 &lt;- 1000:1
vet_num3 &lt;- rnorm(n = 1000, mean = 5, sd = 2)
```

.pull-left[

```r
head(vet_num1) # primeiros elementos
```

```
## [1] 1 2 3 4 5 6
```


```r
tail(vet_num1) # ultimos elementos
```

```
## [1]  995  996  997  998  999 1000
```


```r
summary(vet_num1) # resumo
```

```
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##     1.0   250.8   500.5   500.5   750.2  1000.0
```


```r
quantile(x = vet_num1, probs = 0.25) # quantil
```

```
##    25% 
## 250.75
```
]

.pull-right[

```r
cor(x = vet_num1, y = vet_num2) # correlação
```

```
## [1] -1
```


```r
cor(x = vet_num1, y = vet_num3) # correlação
```

```
## [1] -0.06422533
```


```r
cor(x = vet_num1, y = vet_num2, method = "spearman") # Spearman
```

```
## [1] -1
```

]

---

### Mãos à Massa 02 (Vetores)

Digite:

.pull-left[

Vetores x e y com atribuição a esquerda.

```r
(x &lt;- 1:5)
```

```
## [1] 1 2 3 4 5
```

```r
(y &lt;- c(2:4, 1, 2))
```

```
## [1] 2 3 4 1 2
```

Um teste lógico:

```r
x == seq( 1, 5, by = 1)
```

```
## [1] TRUE TRUE TRUE TRUE TRUE
```

Outro teste lógico:

```r
x &lt; y
```

```
## [1]  TRUE  TRUE  TRUE FALSE FALSE
```
]

.pull-right[

Um teste lógico:

```r
x == seq(1, 3, by = 1)
```

```
## Warning in x == seq(1, 3, by = 1): comprimento do objeto maior não é múltiplo do
## comprimento do objeto menor
```

```
## [1]  TRUE  TRUE  TRUE FALSE FALSE
```

Outro teste lógico:

```r
x &lt; y
```

```
## [1]  TRUE  TRUE  TRUE FALSE FALSE
```

O quê aconteceu?
]

---

# Linguagem Vetorizada

Quando comparamos dois vetores **x** e **y** (x &lt; y, x == y, etc) a relação é avaliada para **TODO O VETOR**.

Desse jeito cada elemento do vetor **x** foi **comparado com o SEU RESPECTIVO PAR do vetor y**. 

.pull-left[

```r
(vet1 &lt;- 1:5)
```

```
## [1] 1 2 3 4 5
```

```r
(vet2 &lt;- 6:10)
```

```
## [1]  6  7  8  9 10
```

```r
vet1 &lt; vet2
```

```
## [1] TRUE TRUE TRUE TRUE TRUE
```
]

.pull-right[

```r
(vetlet1 &lt;- c("a", "b", "t"))
```

```
## [1] "a" "b" "t"
```

```r
(vetlet2 &lt;- c("r", "s", "t"))
```

```
## [1] "r" "s" "t"
```

```r
vetlet1 &gt;= vetlet2
```

```
## [1] FALSE FALSE  TRUE
```
]

---

# Linguagem Vetorizada


```r
(vetA &lt;- 1:5)
```

```
## [1] 1 2 3 4 5
```

```r
(vetB &lt;- 3:7)
```

```
## [1] 3 4 5 6 7
```

```r
vetA + vetB # Somando elem a elem
```

```
## [1]  4  6  8 10 12
```

```r
vetA - vetB # Subtraindo elem a elem
```

```
## [1] -2 -2 -2 -2 -2
```

```r
vetA * vetB # Multiplicando elem a elem
```

```
## [1]  3  8 15 24 35
```

```r
vetA / vetB # Dividindo elem a elem
```

```
## [1] 0.3333333 0.5000000 0.6000000 0.6666667 0.7142857
```

```r
vetA ^ vetB # Dividindo elem a elem
```

```
## [1]     1    16   243  4096 78125
```
---

# Reciclagem

Sempre que há uma incompatibilidade no comprimento de dois vetores que vc está operando o **vetor MAIS CURTO é RECICLADO (repetido)** até corresponder ao comprimento do vetor mais longo.

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="imagens/Reciclagem.png" alt="&amp;lt;center&amp;gt;&amp;lt;b&amp;gt;Fonte: &amp;lt;a href='https://rladiesbh.com.br/'&amp;gt;Curso básico https://rladiesbh.com.br/&amp;lt;/a&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;/center&amp;gt;" width="100%" /&gt;
&lt;p class="caption"&gt;&lt;center&gt;&lt;b&gt;Fonte: &lt;a href='https://rladiesbh.com.br/'&gt;Curso básico https://rladiesbh.com.br/&lt;/a&gt;&lt;/b&gt;&lt;/center&gt;&lt;/p&gt;
&lt;/div&gt;

---

### Mãos à Massa 03 (Vetores)

Digite:

.pull-left[

Vetores x e y com atribuição a esquerda.

```r
(u &lt;- seq(10, 30, by = 10))
```

```
## [1] 10 20 30
```

```r
(v &lt;- 1:9)
```

```
## [1] 1 2 3 4 5 6 7 8 9
```

Faça:

```r
u + v
```

```
## [1] 11 22 33 14 25 36 17 28 39
```
]

.pull-right[
Outro teste lógico:

```r
w &lt;- 1:10
u + v
```

```
## [1] 11 22 33 14 25 36 17 28 39
```

O quê aconteceu?
]

---

# Acessando elementos

Vetores são estruturas de dados homogêneas, unidimensionais. 

Para acessar elementos de um vetor utilize o operador colchetes: **[]**.

.pull-left[

```r
(vetA &lt;- 1:5)
```

```
## [1] 1 2 3 4 5
```

```r
vetA[1] # posicao 1
```

```
## [1] 1
```

```r
vetA[5] # posicao 5
```

```
## [1] 5
```

```r
vetA[-1]  # tudo exceto posicao 1
```

```
## [1] 2 3 4 5
```
]

.pull-right[


```r
vetA[-5]  # tudo exceto posicao 5
```

```
## [1] 1 2 3 4
```

Note que:

```r
vetA[0] # posicao 0
vetA[6] # posicao 6
```

Retorna ERRO.
]

---

# Acessando elementos

Ainda com o operador colchetes **[]** podemos acessar elementos de um vetor realizando **operações LÓGICAS sobre o vetor**.


```r
(num_partic &lt;- c(80, 91, 102, 113))
```

```
## [1]  80  91 102 113
```

```r
names(num_partic) &lt;- c("Goiânia", "Niterói", "Lavras", "Natal")
(num_partic)
```

```
## Goiânia Niterói  Lavras   Natal 
##      80      91     102     113
```

Quem são as entradas de **num_partic** com mais de 100 participantes?


```r
(num_partic &gt; 100)
```

```
## Goiânia Niterói  Lavras   Natal 
##   FALSE   FALSE    TRUE    TRUE
```

Qual a classe desse vetor?

---

# Acessando elementos


```r
(num_partic &gt; 100)
```

```
## Goiânia Niterói  Lavras   Natal 
##   FALSE   FALSE    TRUE    TRUE
```

E usando esse vetor para indexar o vetor original:


```r
num_partic[num_partic &gt; 100]
```

```
## Lavras  Natal 
##    102    113
```

Qual a classe desse vetor?

---

background-image: url("imagens/matriz.png")
background-position: 40% 40%
class: center, bottom, inverse

---

# Matrizes

Um vetor bidimensional.

Ou uma junção de vetores( lado a lado ou linha a linha)

Cada linha ou coluna de uma matriz individualmente será um **vetor**.

.pull-left[

```r
(A &lt;- matrix(data = 1:6,
             nrow = 3))
```

```
##      [,1] [,2]
## [1,]    1    4
## [2,]    2    5
## [3,]    3    6
```

Note: existe também o argumento **ncol**.
]

.pull-right[
Com argumento para preencher a matriz no sentido das linhas


```r
(B &lt;- matrix(data = 1:6,
             nrow = 3, 
             byrow = TRUE))
```

```
##      [,1] [,2]
## [1,]    1    2
## [2,]    3    4
## [3,]    5    6
```
]

---

## Matriz

.pull-left[

#### Acessando


```r
A[2,1] # Um elemento
```

```
## [1] 2
```



```r
A[2, ] # Linha
```

```
## [1] 2 5
```



```r
A[, 1] # Coluna
```

```
## [1] 1 2 3
```



```r
A[, c(1,2)]# Duas colunas
```

```
##      [,1] [,2]
## [1,]    1    4
## [2,]    2    5
## [3,]    3    6
```
]

.pull-right[
#### Inspecionando


```r
dim(A)# num. lin e col
```

```
## [1] 3 2
```


```r
nrow(A)# num. lin
```

```
## [1] 3
```


```r
ncol(A)# num. col
```

```
## [1] 2
```


```r
(rownames(A) &lt;- letters[1:nrow(A)]) # nome das linhas
```

```
## [1] "a" "b" "c"
```


```r
(colnames(A) &lt;- letters[1:ncol(A)]) # nome das colunas
```

```
## [1] "a" "b"
```
]
---

## Matriz - Concatenando

.pull-left[

#### por Coluna


```r
col1 &lt;- 1:5
col2 &lt;- 2001:2005
col3 &lt;- 1:5
col4 &lt;- 1505:1501
```


```r
(matconcat1 &lt;- cbind(col1, col2, col3))
```

```
##      col1 col2 col3
## [1,]    1 2001    1
## [2,]    2 2002    2
## [3,]    3 2003    3
## [4,]    4 2004    4
## [5,]    5 2005    5
```


```r
(matconcat2 &lt;- cbind(matconcat1, col4))
```

```
##      col1 col2 col3 col4
## [1,]    1 2001    1 1505
## [2,]    2 2002    2 1504
## [3,]    3 2003    3 1503
## [4,]    4 2004    4 1502
## [5,]    5 2005    5 1501
```

]

.pull-right[
#### por Linha


```r
matLin1 &lt;- matrix(data = 1:9, ncol = 3)
matLin2 &lt;- matrix(data = 1001:1006, ncol = 3)
```


```r
(rbind(matLin1, matLin2))
```

```
##      [,1] [,2] [,3]
## [1,]    1    4    7
## [2,]    2    5    8
## [3,]    3    6    9
## [4,] 1001 1003 1005
## [5,] 1002 1004 1006
```
]

---

# Observe


```r
matLin8 &lt;- matrix(data = 1:8, ncol = 3)
```

```
## Warning in matrix(data = 1:8, ncol = 3): comprimento dos dados [8] não é um
## submúltiplo ou múltiplo do número de linhas [3]
```

--

- O quê vai acontecer?


```
##      [,1] [,2] [,3]
## [1,]    1    4    7
## [2,]    2    5    8
## [3,]    3    6    1
```
--

- Reciclagem!

---

# Funções aplicadas a Matrizes


```r
(mat_ex &lt;- matrix(data = 9:1, nrow = 3, byrow = TRUE))
```

```
##      [,1] [,2] [,3]
## [1,]    9    8    7
## [2,]    6    5    4
## [3,]    3    2    1
```

.pull-left[

```r
t(mat_ex) # transpor
```

```
##      [,1] [,2] [,3]
## [1,]    9    6    3
## [2,]    8    5    2
## [3,]    7    4    1
```


```r
diag(mat_ex) # ultimos diagonal
```

```
## [1] 9 5 1
```


```r
diag(3) # matriz Diagonal
```

```
##      [,1] [,2] [,3]
## [1,]    1    0    0
## [2,]    0    1    0
## [3,]    0    0    1
```

]

.pull-right[

```r
det(mat_ex) # determinante
```

```
## [1] 6.661338e-16
```


```r
nrow(mat_ex) # num.linhas
```

```
## [1] 3
```


```r
ncol(mat_ex) # num.colunas
```

```
## [1] 3
```

]

---

# Funções aplicadas a Matrizes

.pull-left[

```r
rowSums(mat_ex) # soma das linhas
```

```
## [1] 24 15  6
```

```r
rowMeans(mat_ex) # media das linhas
```

```
## [1] 8 5 2
```


```r
colSums(mat_ex) # soma das colunas
```

```
## [1] 18 15 12
```

```r
colMeans(mat_ex) # media das colunas
```

```
## [1] 6 5 4
```
]

.pull-right[

```r
rownames(mat_ex) # nome das linhas
```

```
## NULL
```


```r
colnames(mat_ex) # nome das colunas
```

```
## NULL
```
]

---

# Mãos à Massa 04 (Matrizes)

Tente resolver as questões abaixo **sem utilizar o R**.

--

- Podemos construir no R uma matriz com dados numéricos e texto? Se sim,
qual o tipo de dado dessa matriz?

--

- O que ocorre se definirmos o argumento **byrow = TRUE** na construção de uma matriz?

--

-  Para construir uma matriz com 25 elementos organizados em 5 linhas e 5 colunas, precisamos necessariamente definir os argumentos ncol  e nrow da função matrix()? Por quê?

---

# Mãos à Massa 05 (Matrizes)

Crie uma matriz m cujas entradas são os números de 1 a 3. Essa matriz tem 2 linhas e 2 colunas.

--

- Você consegue passar os números de 1 a 3 de outro jeito?

--

- Qual o valor do elemento na segunda linha na segunda coluna ?

--

- Faça as seguintes operações:
3 * m
m + m
m &gt; 2
[m == 3]
---

# Mãos à Massa 06 (Matrizes)

Faça uma matriz para representar o mês de *Julho de 2020*

---

# Mãos à Massa 06 (Matrizes)

Faça uma matriz para representar o mês de Julho de 2020



--

- Qual o desvio padrao de quarta-feira?

---

# Mãos à Massa 06 (Matrizes)

Faça uma matriz para representar o mês de Julho de 2020


```r
julho &lt;- matrix(data = c(0, 0, 0, 1:31, 0), ncol = 7, byrow = TRUE)
dimnames(julho)[[2]] &lt;- c("dom", "seg", "ter", "qua", "qui", "sex", "sab")
```

Qual o desvio de quarta-feira?


```r
sd(julho[, "qua"])
```

```
## [1] 11.06797
```

---

# Mãos à Massa 06 (Matrizes)

Faça uma matriz para representar o mês de Julho de 2020


```r
(julho &lt;- matrix(data = c(0, 0, 0, 1:31, 0), ncol = 7, byrow = TRUE))
```

```
##      [,1] [,2] [,3] [,4] [,5] [,6] [,7]
## [1,]    0    0    0    1    2    3    4
## [2,]    5    6    7    8    9   10   11
## [3,]   12   13   14   15   16   17   18
## [4,]   19   20   21   22   23   24   25
## [5,]   26   27   28   29   30   31    0
```

```r
dimnames(julho)[[2]] &lt;- c("dom", "seg", "ter", "qua", "qui", "sex", "sab")
```

Qual o desvio de quarta-feira?


```r
sd(julho[, "qua"])
```

```
## [1] 11.06797
```

Qual a média de cada dia da semana?

---

# Mãos à Massa 06 (Matrizes)

Faça uma matriz para representar o mês de Julho de 2020


```r
julho &lt;- matrix(data = c(0, 0, 0, 1:31, 0), ncol = 7, byrow = TRUE)
dimnames(julho)[[2]] &lt;- c("dom", "seg", "ter", "qua", "qui", "sex", "sab")
```

Qual o desvio de quarta-feira?


```r
sd(julho[, "qua"])
```

```
## [1] 11.06797
```

Qual a média de cada dia da semana?


```r
colMeans(julho)
```

```
##  dom  seg  ter  qua  qui  sex  sab 
## 12.4 13.2 14.0 15.0 16.0 17.0 11.6
```

---

# Mãos à Massa 06 (Matrizes)

Qual a média de **cada dia da semana**?


```r
apply(X = julho, MARGIN = 2, FUN = function(x) mean(x))
```

```
##  dom  seg  ter  qua  qui  sex  sab 
## 12.4 13.2 14.0 15.0 16.0 17.0 11.6
```

Qual a média de **por semana**?


```r
apply(X = julho, MARGIN = 2, FUN = function(x) mean(x))
```

```
##  dom  seg  ter  qua  qui  sex  sab 
## 12.4 13.2 14.0 15.0 16.0 17.0 11.6
```

---

background-image: url("imagens/array.png")
background-position: 40% 40%
class: center, bottom, inverse

---

background-image: url("imagens/lista.png")
background-position: 25% 25%
class: center, bottom, inverse

---

# Listas

Trata-se da estrutura de dados **mais genérica** do R.

Uma lista é como um gaveteiro (de novo) em que cada gaveta pode receber um objeto do R diferente.

Uma lista é **unidimensional**


```r
idade &lt;- c(20, 21, 17, 35, 49)  
nomes &lt;- c("Isabel", "Maria Julia", "Beatriz", "Juliana", "Luisa")
curso &lt;- c(TRUE, FALSE, TRUE, FALSE, TRUE)

(lista &lt;- list(nomes, idade, curso))
```

```
## [[1]]
## [1] "Isabel"      "Maria Julia" "Beatriz"     "Juliana"     "Luisa"      
## 
## [[2]]
## [1] 20 21 17 35 49
## 
## [[3]]
## [1]  TRUE FALSE  TRUE FALSE  TRUE
```
---

## Sem nomear

```r
(lista &lt;- list(nomes, idade, curso))
```

```
## [[1]]
## [1] "Isabel"      "Maria Julia" "Beatriz"     "Juliana"     "Luisa"      
## 
## [[2]]
## [1] 20 21 17 35 49
## 
## [[3]]
## [1]  TRUE FALSE  TRUE FALSE  TRUE
```

## Nomeando

```r
(lista &lt;- list(nomes = nomes, idade = idade, curso = curso))
```

```
## $nomes
## [1] "Isabel"      "Maria Julia" "Beatriz"     "Juliana"     "Luisa"      
## 
## $idade
## [1] 20 21 17 35 49
## 
## $curso
## [1]  TRUE FALSE  TRUE FALSE  TRUE
```

---

# Listas

.pull-left[

### Acessando

```r
lista[[1]]
```

```
## [1] "Isabel"      "Maria Julia" "Beatriz"     "Juliana"     "Luisa"
```


```r
lista[["nomes"]]
```

```
## [1] "Isabel"      "Maria Julia" "Beatriz"     "Juliana"     "Luisa"
```


```r
lista$nomes
```

```
## [1] "Isabel"      "Maria Julia" "Beatriz"     "Juliana"     "Luisa"
```


```r
lista[c(1, 3)]
```

```
## $nomes
## [1] "Isabel"      "Maria Julia" "Beatriz"     "Juliana"     "Luisa"      
## 
## $curso
## [1]  TRUE FALSE  TRUE FALSE  TRUE
```
]

.pull-right[
### Modificando

```r
lista[[1]][2] &lt;- 33
```


```r
lista$nomes[1] &lt;- "Isabella"
lista$idade[5] &lt;- 50
```
]

---

# Funções aplicadas a Listas

Entrando com uma lista:


```r
lista2 &lt;- list(rnorm(n = 120, mean = 3, sd = 0.5),
               rnorm(n = 100, mean = 1, sd = 0.5),
               rnorm(n = 150, mean = 2, sd = 1))
names(lista2) &lt;- paste("resexp", 
                        seq(length(lista2)), 
                        sep = "_")
```

Note que estamos usando a função *paste* para nomear as entradas da lista.

---

# Funções aplicadas a Listas

*head()* de cada parte da lista com a função *lapply*:


```r
lapply(X = lista2, FUN = function(x) head(x = x))
```

```
## $resexp_1
## [1] 2.941435 3.737380 3.373049 2.459382 3.267088 2.566636
## 
## $resexp_2
## [1] 1.3529644 1.5357745 0.7290362 0.6562251 1.2592444 1.0177533
## 
## $resexp_3
## [1] 2.058808 3.158431 2.807660 5.080721 1.899302 1.925937
```

Aplicando uma função para achar o primeiro percentil com a função *lapply*:


```r
lapply(X = lista2, FUN = function(x) quantile(x = x, probs = 0.10))
```

```
## $resexp_1
##      10% 
## 2.381663 
## 
## $resexp_2
##       10% 
## 0.4934812 
## 
## $resexp_3
##       10% 
## 0.7143588
```

Note que: Só faz sentido usar a função *lapply* se todas as partes da lista forem da mesma classe.

---

background-image: url("imagens/dataframe.png")
background-position: 40% 40%
class: center, bottom, inverse

---

# Data.frames

- Parece uma matriz porque normalmente é **bidimensional**

- Linhas: elementos observados/ instâncias 
- Colunas: características de interesse/ variáveis coletadas/ _features_

- Mas tem a flexibilidade das listas pelo fato de **aceitar que colunas diferentes tenham classes diferentes**

- É a estrutura de dados mais similar a uma **planilha de dados**.

---

# Data.frames 


```r
(df &lt;- data.frame(id = c(12376, 18598, 33221, 64550, 77937),
                 nome = c("Isabel", "Maria Julia", "Beatriz", "Juliana", "Luisa"),
                 curso = c(TRUE, FALSE, TRUE, FALSE, TRUE),
                 idade = c(20, 21, 17, 35, 49),
                 freqEv = c(3, 10, 7, 8, 5),
                 percTempEv = c(0.8, 1, 1, 0.14, 0.5)))
```

```
##      id        nome curso idade freqEv percTempEv
## 1 12376      Isabel  TRUE    20      3       0.80
## 2 18598 Maria Julia FALSE    21     10       1.00
## 3 33221     Beatriz  TRUE    17      7       1.00
## 4 64550     Juliana FALSE    35      8       0.14
## 5 77937       Luisa  TRUE    49      5       0.50
```
---

# Data.frames 

O que aconteceria se uma das colunas tivesse menos entradas?

--

- Faça a entrada da matriz removendo o último registro da coluna _percTempEv_


```r
(df &lt;- data.frame(id = c(12376, 18598, 33221, 64550, 77937),
                 nome = c("Isabel", "Maria Julia", "Beatriz", "Juliana", "Luisa"),
                 curso = c(TRUE, FALSE, TRUE, FALSE, TRUE),
                 idade = c(20, 21, 17, 35, 49),
                 freqEv = c(3, 10, 7, 8, 5),
                 percTempEv = c(0.8, 1, 1, 0.14)))
```

--

- Note que: uma estrutura de dados *data.frame* *NÃO FAZ RECICLAGEM!*

---

# Data.frames 

Como a estrutura de dados *data.frame* *NÃO FAZ RECICLAGEM* uma entrada faltante precisa ser explicitada com _NA_!


```r
(df &lt;- data.frame(id = c(12376, 18598, 33221, 64550, 77937),
                 nome = c("Isabel", "Maria Julia", "Beatriz", "Juliana", "Luisa"),
                 curso = c(TRUE, FALSE, TRUE, FALSE, TRUE),
                 idade = c(20, 21, 17, 35, 49),
                 freqEv = c(3, 10, 7, 8, 5),
                 percTempEv = c(0.8, 1, 1, 0.14, NA)))
```

```
##      id        nome curso idade freqEv percTempEv
## 1 12376      Isabel  TRUE    20      3       0.80
## 2 18598 Maria Julia FALSE    21     10       1.00
## 3 33221     Beatriz  TRUE    17      7       1.00
## 4 64550     Juliana FALSE    35      8       0.14
## 5 77937       Luisa  TRUE    49      5         NA
```

---

# Data.frames 

.pull-left[

### Acessando

```r
df[1, ] # linha
```

```
##      id   nome curso idade freqEv percTempEv
## 1 12376 Isabel  TRUE    20      3        0.8
```


```r
df[, 1] # coluna
```

```
## [1] 12376 18598 33221 64550 77937
```


```r
df$nome # coluna
```

```
## [1] Isabel      Maria Julia Beatriz     Juliana     Luisa      
## Levels: Beatriz Isabel Juliana Luisa Maria Julia
```


```r
df[, 'idade'] # coluna
```

```
## [1] 20 21 17 35 49
```


```r
df[c(1, 5), 1:3] # sub data.frame
```

```
##      id   nome curso
## 1 12376 Isabel  TRUE
## 5 77937  Luisa  TRUE
```
]

.pull-right[
### Funções

```r
head(df) # primeiros elementos
```

```
##      id        nome curso idade freqEv percTempEv
## 1 12376      Isabel  TRUE    20      3       0.80
## 2 18598 Maria Julia FALSE    21     10       1.00
## 3 33221     Beatriz  TRUE    17      7       1.00
## 4 64550     Juliana FALSE    35      8       0.14
## 5 77937       Luisa  TRUE    49      5         NA
```


```r
str(df) # classes
```

```
## 'data.frame':	5 obs. of  6 variables:
##  $ id        : num  12376 18598 33221 64550 77937
##  $ nome      : Factor w/ 5 levels "Beatriz","Isabel",..: 2 5 1 3 4
##  $ curso     : logi  TRUE FALSE TRUE FALSE TRUE
##  $ idade     : num  20 21 17 35 49
##  $ freqEv    : num  3 10 7 8 5
##  $ percTempEv: num  0.8 1 1 0.14 NA
```


```r
summary(df)  # resumo
```

```
##        id                 nome     curso             idade          freqEv    
##  Min.   :12376   Beatriz    :1   Mode :logical   Min.   :17.0   Min.   : 3.0  
##  1st Qu.:18598   Isabel     :1   FALSE:2         1st Qu.:20.0   1st Qu.: 5.0  
##  Median :33221   Juliana    :1   TRUE :3         Median :21.0   Median : 7.0  
##  Mean   :41336   Luisa      :1                   Mean   :28.4   Mean   : 6.6  
##  3rd Qu.:64550   Maria Julia:1                   3rd Qu.:35.0   3rd Qu.: 8.0  
##  Max.   :77937                                   Max.   :49.0   Max.   :10.0  
##                                                                               
##    percTempEv   
##  Min.   :0.140  
##  1st Qu.:0.635  
##  Median :0.900  
##  Mean   :0.735  
##  3rd Qu.:1.000  
##  Max.   :1.000  
##  NA's   :1
```
]

---

# Mãos à Massa 07 (data.frames)

Carregue os dados *mtcars*

---

# Mãos à Massa 07 (data.frames)

Carregue os dados *mtcars*


```r
data(mtcars)
```

---

# Mãos à Massa 07 (data.frames)

Carregue os dados *mtcars*


```r
data(mtcars)
```

Inspecione o objeto *mtcars* com *?mtcars*

---

# Mãos à Massa 07 (data.frames)

Carregue os dados *mtcars*


```r
data(mtcars)
```

Qual a classe das colunas desse objeto?

---

# Mãos à Massa 07 (data.frames)

Carregue os dados *mtcars*


```r
data(mtcars)
```

Qual a classe das colunas desse objeto?


```r
apply(X = mtcars, MARGIN = 2, FUN = function(x) class(x))
```

```
##       mpg       cyl      disp        hp      drat        wt      qsec        vs 
## "numeric" "numeric" "numeric" "numeric" "numeric" "numeric" "numeric" "numeric" 
##        am      gear      carb 
## "numeric" "numeric" "numeric"
```

---

# Mãos à Massa 07 (data.frames)

Carregue os dados *mtcars*


```r
data(mtcars)
```

Qual o maior valor observado para cada variável?


```r
apply(X = mtcars, MARGIN = 2, FUN = function(x) max(x))
```

```
##     mpg     cyl    disp      hp    drat      wt    qsec      vs      am    gear 
##  33.900   8.000 472.000 335.000   4.930   5.424  22.900   1.000   1.000   5.000 
##    carb 
##   8.000
```

---

## Essa apresentação está em Xaringan! 

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="adesivos_hexagons/PNG/xaringan.png" alt="&amp;lt;center&amp;gt;&amp;lt;b&amp;gt;Logo: &amp;lt;a href='https://github.com/yihui/xaringan'&amp;gt;Pacote Xaringan&amp;lt;/a&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;/center&amp;gt;" width="20%" /&gt;
&lt;p class="caption"&gt;&lt;center&gt;&lt;b&gt;Logo: &lt;a href='https://github.com/yihui/xaringan'&gt;Pacote Xaringan&lt;/a&gt;&lt;/b&gt;&lt;/center&gt;&lt;/p&gt;
&lt;/div&gt;

Ela começou em slides usuais... mas virou um script.


### Como referenciar o Xaringan?


```r
citation(package = "xaringan")
```

---

class: middle
## Tem uma documentação em RMarkdown também! 

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="adesivos_hexagons/PNG/rmarkdown.png" alt="&amp;lt;center&amp;gt;&amp;lt;b&amp;gt;Logo: &amp;lt;a href='https://rmarkdown.rstudio.com'&amp;gt;Pacote rmarkdown&amp;lt;/a&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;/center&amp;gt;" width="20%" /&gt;
&lt;p class="caption"&gt;&lt;center&gt;&lt;b&gt;Logo: &lt;a href='https://rmarkdown.rstudio.com'&gt;Pacote rmarkdown&lt;/a&gt;&lt;/b&gt;&lt;/center&gt;&lt;/p&gt;
&lt;/div&gt;


### Como referenciar o rmarkdown?


```r
citation(package = "rmarkdown")
```

---

# Recomendamos fortemente:

A leitura dos slides da [Beatriz Milz](https://beatrizmilz.github.io/IME-27-08-2019/#32), co-organizadora do [Rladies SP](https://www.meetup.com/pt-BR/rladies-sao-paulo/).

Eu tô aprendendo e me inspirando [nesse código dela](https://github.com/beatrizmilz/aMostra-IME-2019-Xaringan/blob/master/docs/index.Rmd). 


&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="https://media.giphy.com/media/8OVmHLPQj1amhLO2NJ/giphy.gif" alt="&amp;lt;b&amp;gt;Minha causa favorita&amp;lt;/b&amp;gt;" width="50%" /&gt;
&lt;p class="caption"&gt;&lt;b&gt;Minha causa favorita&lt;/b&gt;&lt;/p&gt;
&lt;/div&gt;



---
# Xaringan: Começando/Hello World

Recomendamos que você use a [IDE do RStudio](https://www.rstudio.com/products/rstudio/), mas não é uma obrigação.

- Para criar um documento R Markdown a partir do menu `File -&gt; New File -&gt; R Markdown -&gt; From Template -&gt; Ninja Presentation`;&lt;sup&gt;1&lt;/sup&gt;

--

- Para compilar o arquivo aperte o botão `Knit`;

--

- ou use o [RStudio Addin](https://rstudio.github.io/rstudioaddins/)&lt;sup&gt;2&lt;/sup&gt; "Infinite Moon Reader" para ver uma prévia dos slides (toda ve que você atualizar e salvar o documento Rmd, os slides serão automaticamente carregados.

.footnote[
[1] Veja [#1](http://slides.yihui.org/xaringan/zh-CN.html) para a apresentação original.

[2] Veja [#2](https://github.com/yihui/xaringan/issues/2) se você não encontra o template ou addin no RStudio.
]

---

# Só a prática leva à fluência!

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="https://media.giphy.com/media/L8K62iTDkzGX6/giphy.gif" alt="&amp;lt;center&amp;gt;&amp;lt;b&amp;gt;Hands on!&amp;lt;/b&amp;gt;&amp;lt;/center&amp;gt;" width="35%" /&gt;
&lt;p class="caption"&gt;&lt;center&gt;&lt;b&gt;Hands on!&lt;/b&gt;&lt;/center&gt;&lt;/p&gt;
&lt;/div&gt;

# Obrigada!

[https://www.linkedin.com/company/rladiesbh/](https://www.linkedin.com/company/rladiesbh/)

[https://www.linkedin.com/in/larissa-sayuri-santos/](https://www.linkedin.com/in/larissa-sayuri-santos/)

---
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
